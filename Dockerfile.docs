# Single stage - build and serve
FROM python:3.10-slim

WORKDIR /app

# Copy all documentation files
COPY docs/ docs/
COPY mkdocs.yml .

# Install mkdocs and build
RUN pip install --no-cache-dir \
    mkdocs==1.5.3 \
    mkdocs-material==9.4.14 \
    mkdocs-material-extensions==1.3.1 \
    pymdown-extensions \
    && mkdocs build

WORKDIR /app/site

EXPOSE 8080

CMD ["python", "-m", "http.server", "8080"]
