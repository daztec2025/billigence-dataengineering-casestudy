{
  "name": "Databricks Runtime 14.3 LTS (Local)",
  "build": {
    "dockerfile": "../Dockerfile",
    "context": ".."
  },

  "customizations": {
    "vscode": {
      "extensions": [
        "databricks.databricks",
        "ms-python.python",
        "ms-python.vscode-pylance",
        "ms-toolsai.jupyter"
      ],
      "settings": {
        "python.defaultInterpreterPath": "/usr/local/bin/python",
        "python.analysis.extraPaths": ["/opt/spark/python"]
      }
    }
  },

  "forwardPorts": [4040, 8080, 7077, 8888],

  "postCreateCommand": "pip install -r requirements.txt",

  "remoteEnv": {
    "SPARK_HOME": "/opt/spark",
    "PYTHONPATH": "/opt/spark/python:/opt/spark/python/lib/py4j-0.10.9.7-src.zip"
  }
}
